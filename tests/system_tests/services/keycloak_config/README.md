# Keycloak Configuration

This Keycloak instance has two clients: `ixx-blueapi` and `ixx-blueapi-cli`.

## ixx-blueapi

A service account client used to obtain access tokens from Keycloak during system tests.

**Key points:**
- Uses a hardcoded fedid for the user `alice`
- In CI, this acts as `alice` to validate permissions
- The hardcoded value tests [authz](https://github.com/DiamondLightSource/authz/) policies

## ixx-blueapi-cli

A client for testing all services with admin privileges. Note that while the production `blueapi-cli` client has no write access, this test instance has write permissions for testing purposes.

## Configuration

Both clients are generated by exporting the realm. For more information, see:
- [Realm import/export](https://www.keycloak.org/server/importExport)
- [Client configuration export](https://www.keycloak.org/securing-apps/client-registration-cli#_retrieving_a_client_configuration)

## Users

A single user is configured with username and password: `admin`
